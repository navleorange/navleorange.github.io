---
title: Aiwolf_audio_client
description: 人間が生成AIと対戦するシステムの人間用のアプリケーションです。
lang: Python3
GitHub: https://github.com/navleorange/Aiwolf_audio_client
display_order: 2
---

::MarkDownBase

# Aiwolf_audio_client
GitHub:[Aiwolf_audio_client](https://github.com/navleorange/Aiwolf_audio_client)

## 概要
研究で生成AIを使用した人狼ゲームエージェントの開発を行っており、その人狼エージェントと人間が対戦を行えるようにしたいと思い作成しました。人狼ゲームエージェント同士の対戦は[人狼知能プロジェクト](/research)で行われているためこの人狼エージェントと人間が対戦できるように、人狼知能プロジェクトのゲームサーバに準拠したゲームサーバと人間がこれに接続を可能とするアプリケーションの2つを作成しました。特に、当初は人間同士の対戦の中に人狼エージェントを加えて人狼ゲームを行いたいと考えたため、人間は通常通りオフラインで集まりゲームをプレイすることを想定し、それぞれのプレイヤーの音声を拾いゲームサーバに会話内容を送信、その内容を人狼エージェントが受け取り対戦を行うことを目指しました。このページは人間がゲームサーバに接続を行うアプリケーションの説明のページです。

## 関連する内容
研究内容:[研究内容へ移動](/research) <br>
作成したゲームサーバ:[Aiwolf_audio_server](/works/private/aiwolf_audio_server)

## 開発情報
**言語**: Python3 <br>
**ライブラリ**: PySimpleGUI, PyAudio, faster-whisper

## 選定理由
人の声を拾いそれをテキストに変換する必要があるため、音声録音可能なPyAudioや音声をテキストに変換可能なfaster-whisperなど音声処理のライブラリが豊富であるPythonを使用しての開発としました。また、人がゲームに必要な操作を行う際にコマンドライン上で操作を行うことは非常に不便であると感じたため、GUIを用意しボタンを押すだけで操作可能となるようにするためにPySimpleGUIを用いてGUIを用意しました。人狼エージェントとの対戦を可能な限りスムーズに行うために、音声からテキストへの変換が早く、精度が高いとされているfaster-whisperを使用しました。

## 動作結果
動作テスト時のスクリーンショットです。

### 役職割り当て
![role](https://github.com/navleorange/Aiwolf_audio_client/assets/74340680/ff43f47e-f894-4c3e-b5e6-57ba4da1c4a5)

### ゲーム画面
当時このスクリーンショットを撮るために、実際に「ここに音声が表示されます」と発音して出力された結果を撮りました。
![audio](https://github.com/navleorange/Aiwolf_audio_client/assets/74340680/7fb6e0d2-1455-47dd-9285-674bce7188b8)

## 工夫した点
人間がオフラインで集まってやることを想定したため、他の人に割り当てられた役職を見られないように隠す機能や、占い師が占い先を選択する際に他のプレイヤーも同じような行動をとるように促すことで、オフラインで行っても役職を悟られないようにする工夫をしました。音声を文字列に変換する処理は基本的に各プレイヤーのPCで行うことを想定しましたが、それぞれのプレイヤーのPCのスペックに処理速度が依存してしまうことを考慮し、音声データをゲームサーバに送りゲームサーバ側で音声を処理することが可能になるようにする工夫もしました。

## 今後頑張りたいこと
2023年6月の開発時は音声をテキストに変換する処理が正常に動作していましたが、2024年現在改めて動作確認をしたところ音声をテキストに変換する処理ができなくなっていることが確認されました。そのため、正常に動作するように修正したいと考えています。

::